# Cocktail-Sharing App Portfolio Piece

This app will allow bartenders to easily keep track of cocktails they create and share them with friends. Bar managers will also be able to create a page for their bar and bartenders can join to view and share bar-exclusive cocktail recipes.

### All users

- Can create, edit, and delete their own cocktails.
- Can view all public cocktails created by other users or search for a specific cocktail by name or ingredient.
- Can 'favorite' cocktails (not belonging to a bar)
- Can comment on cocktails
- Can join an existing bar and contribute cocktail recipes to the bar.
- Can create a new bar and invite bartenders to join.

### Bar managers

- Can manage cocktails within the bar they have created.
- Can add/remove bartenders and managers to/from bar.
- Can create new menus

#### Database Schemas

The _Database Schemas_ for the resources are:

##### users

| field        | data type        | metadata                                            |
| ------------ | ---------------- | --------------------------------------------------- |
| id           | unsigned integer | primary key, auto-increments, generated by database |
| email        | string           | required, unique                                    |
| password     | string           | required                                            |
| first_name   | string           | required                                            |
| last_name    | string           | required                                            |
| phone_number | string           | required, unique                                    |
| created_at   | timestamp        | required, generated by database                     |
| deleted_at   | timestamp        | generated by database                               |

table.timestamp(false, true);

##### bars

| field       | data type        | metadata                                            |
| ----------- | ---------------- | --------------------------------------------------- |
| id          | unsigned integer | primary key, auto-increments, generated by database |
| name        | string           | required                                            |
| address     | string           | required                                            |
| city        | string           | required                                            |
| state       | string           | required                                            |
| postal_code | string           | required                                            |
| photo       | string           | optional                                            |
| created_at  | timestamp        | required, generated by database                     |
| deleted_at  | timestamp        | generated by database                               |

##### bars_users

| field             | data type        | metadata                                       |
| ----------------- | ---------------- | ---------------------------------------------- |
| (bar_id, user_id) | composite        | primary key                                    |
| bar_id            | unsigned integer | required, must be the `id` of an existing bar  |
| user_id           | unsigned integer | required, must be the `id` of an existing user |
| role              | enum             | required, must 'bartender' or 'manager'        |
| created_at        | timestamp        | required, generated by database                |
| deleted_at        | timestamp        | generated by database                          |

table.enu('role', ['bartender', 'manager'])

##### cocktails

| field      | data type        | metadata                                                                                                                                                                                                                                                                  |
| ---------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id         | unsigned integer | primary key, auto-increments, generated by database                                                                                                                                                                                                                       |
| name       | string           | required                                                                                                                                                                                                                                                                  |
| bar_id     | unsigned integer | optional, must be the `id` of an existing bar if used                                                                                                                                                                                                                     |
| user_id    | unsigned integer | required, must be the `id` of an existing user                                                                                                                                                                                                                            |
| glass_type | enum             | collins, highball, martini, coupe, highball, nick and nora, white wine, red wine, single rocks, double rocks, julep tin, tiki mug, pilsner, champagne flute, margarita glass, punch bowl, shot glass, pitcher, irish coffee mug, glencairne, copper mug, hurricane glass, specialty/other |
| photo      | string           | optional                                                                                                                                                                                                                                                                  |
| garnish    | string           | optional                                                                                                                                                                                                                                                                  |
| created_at | timestamp        | required, generated by database                                                                                                                                                                                                                                           |
| deleted_at | timestamp        | generated by database                                                                                                                                                                                                                                                     |

##### ingredients

| field           | data type        | metadata                                            |
| --------------- | ---------------- | --------------------------------------------------- |
| ingredient_id   | unsigned integer | primary key, auto-increments, generated by database |
| ingredient_name | string           | required, unique                                    |
| alcoholic       | boolean          | required                                            |
| created_at      | timestamp        | required, generated by database                     |
| deleted_at      | timestamp        | generated by database                               |

##### cocktails_ingredients

| field                        | data type        | metadata                                             |
| ---------------------------- | ---------------- | ---------------------------------------------------- |
| (cocktail_id, ingredient_id) | composite        | primary key                                          |
| cocktail_id                  | unsigned integer | required, must be the `id` of an existing cocktail   |
| ingredient_id                | unsigned integer | required, must be the `id` of an existing ingredient |
| quantity                     | string           | required                                             |
| created_at                   | timestamp        | required, generated by database                      |
| deleted_at                   | timestamp        | generated by database                                |

##### cocktails_steps

| field                  | data type | metadata                                           |
| ---------------------- | --------- | -------------------------------------------------- |
| (cocktail_id, step_id) | composite | primary key                                        |
| step_number            | integer   | required                                           |
| step_instructions      | string    | required                                           |
| cocktail_id            | string    | required, must be the `id` of an existing cocktail |
| created_at             | timestamp | required, generated by database                    |
| deleted_at             | timestamp | generated by database                              |

##### menus

| field       | data type        | metadata                                            |
| ----------- | ---------------- | --------------------------------------------------- |
| id          | unsigned integer | primary key, auto-increments, generated by database |
| name        | string           | required                                            |
| description | string           | required                                            |
| bar_id      | unsigned integer | required, must be the `id` of an existing bar       |
| user_id     | unsigned integer | required, must be the `id` of an existing user      |
| created_at  | timestamp        | required, generated by database                     |
| deleted_at  | timestamp        | generated by database                               |

##### menus_cocktails

| field                | data type        | metadata                                           |
| -------------------- | ---------------- | -------------------------------------------------- |
| menu_id, cocktail_id | composite        | primary key                                        |
| menu_id              | unsigned integer | required, must be the `id` of an existing menu     |
| cocktail_id          | unsigned integer | required, must be the `id` of an existing cocktail |
| created_at           | timestamp        | required, generated by database                    |
| deleted_at           | timestamp        | generated by database                              |

##### users_favorites

| field                | data type        | metadata                                           |
| -------------------- | ---------------- | -------------------------------------------------- |
| user_id, cocktail_id | composite        | primary key                                        |
| user_id              | unsigned integer | required, must be the `id` of an existing user     |
| cocktail_id          | unsigned integer | required, must be the `id` of an existing cocktail |
| created_at           | timestamp        | required, generated by database                    |
| deleted_at           | timestamp        | generated by database                              |

##### cocktails_comment

| field                   | data type        | metadata                                           |
| ----------------------- | ---------------- | -------------------------------------------------- |
| cocktail_id, comment_id | composite        | primary key                                        |
| user_id                 | unsigned integer | required, must be the `id` of an existing user     |
| cocktail_id             | unsigned integer | required, must be the `id` of an existing cocktail |
| cocktail_comments       | string           | required                                           |
| created_at              | timestamp        | required, generated by database                    |
| deleted_at              | timestamp        | generated by database                              |

## Sample Data

<details>
<summary>User</summary>

```json
{
  "user_id": 1,
  "username": "meowxologist",
  "password": "$2a$08$DuNScRplwZy4kknDv5I/6.hyTUBJ27YEM1VK57bZehPifHrurU.1.",
  "first_name": "Clementine",
  "last_name": "Yevsukov",
  "email": "clem@clem.com",
  "phone_number": "111-111-1111"
}
```

</details>

<details>
<summary>Cocktail</summary>

```json
{
  "cocktail_id": 1,
  "cocktail_name": "Clem's Cosmo",
  "bar_id": null,
  "user_id": 1,
  "glass_type": "coupe",
  "cocktail_photo": "https://images.unsplash.com/photo-1527761939622-9119094630cf?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80",
  "cocktail_garnish": "mint sprig & lemon peel",
  "ingredients": [
    {
      "ingredient_id": 1,
      "ingredient_name": "Citrus Vodka",
      "alcoholic": true,
      "ingredient_measurement": "1.5 oz"
    },
    {
      "ingredient_id": 2,
      "ingredient_name": "Triple Sec",
      "alcoholic": true,
      "ingredient_measurement": ".75 oz"
    },
    {
      "ingredient_id": 3,
      "ingredient_name": "Cranberry Juice",
      "alcoholic": false,
      "ingredient_measurement": ".25 oz"
    },
    {
      "ingredient_id": 4,
      "ingredient_name": "Lime Juice",
      "alcoholic": false,
      "ingredient_measurement": ".5 oz"
    }
  ],
  "steps": [
    {
      "cocktail_step_id": 1,
      "step_number": 1,
      "step_instructions": "Combine all ingredients in shaker tin and pack with ice"
    },
    {
      "cocktail_step_id": 2,
      "step_number": 2,
      "step_instructions": "Shake vigorously until tin frosts over and double strain into coupe glass"
    },
    {
      "cocktail_step_id": 3,
      "step_number": 3,
      "step_instructions": "Express lemon peel over cocktail and drop into cocktail. Clip mint sprig onto glass and serve"
    }
  ],
  "number_favorites": 5,
  "comments": [
    {
      "cocktail_comment_id": 1,
      "user_id": 2,
      "username": "whiskeykat",
      "cocktail_comment": "Looks delicious!"
    }
  ]
}
```

</details>

<details>
<summary>Bar</summary>

```json
{
  "bar_id": 1,
  "bar_name": "Takokat",
  "bar_address": "123 Main Street",
  "bar_city": "Austin",
  "bar_state": "TX",
  "bar_postal_code": "54321",
  "bar_photo": "https://images.unsplash.com/photo-1483648969698-5e7dcaa3444f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2148&q=80",
  "staff": [
    {
      "user_id": 1,
      "username": "meowxologist",
      "first_name": "Clementine",
      "last_name": "Kruczynski",
      "role_type": "manager"
    },
    {
      "user_id": 2,
      "username": "whiskeykat",
      "first_name": "Katherine",
      "last_name": "Yevsukov",
      "role_type": "bartender"
    }
  ]
}
```

</details>
